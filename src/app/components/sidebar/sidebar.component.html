<div class="col-lg-4 sidebar-32">
        <h1 class="text-center"> Mis Datos </h1>    
</div>


<div id="user-card" class="col-lg-4 panel panel-default pull-left" >
    <div class="avatar pull-left">
        <img src="{{ url + 'get-image-user/' + identity.image }}" *ngIf ="identity.image">
        <img src="assets/default.png" *ngIf ="!identity.image">
    </div>

    <div class="name-surname pull-left">
        <a [routerLink]="['/perfil',identity._id]" class="username">
            {{identity.name + ' ' + identity.surname}}
        </a>
        <p class="nickname">{{identity.nick}}</p>
        <div class="clearfix"></div>
    </div>

    <div class="clearfix"></div>
    <div class="stats" *ngIf="stats && stats.value">

        <div class="following-data">
            <a [routerLink]="['/siguiendo',identity._id,1]">
                <span class="label-stats">
                    Siguiendo
                </span>
                <span class="number-stats">
                    {{stats.value.following}}
                </span>
            </a>
        </div>

        <div class="following-data">
            <a [routerLink]="['/seguidores',identity._id,1]">

                    <span class="label-stats">
                        Seguidores
                    </span>
                    <span class="number-stats">
                        {{stats.value.followed}}
                    </span>
                </a>
            </div>
            
        <div class="following-data">
                <a [routerLink]="['/perfil',identity._id]">
                        <span class="label-stats">
                            Publicaciones
                        </span>
                        <span class="number-stats">
                            {{stats.value.publications}}
                        </span>
                    </a>
       </div>
    </div>
</div>

<!--  Formulario de publicaciones -->

<div id="new-publication" class="col-lg-4 pull-left panel panel-default">

    <div class="alert alert-success" *ngIf ="status == 'success'">
        Publicacion enviada correctamente
    </div>
    <div class="alert alert-danger" *ngIf ="status == 'error'">
            Publicacion no enviada
    </div>

    <form #newPubForm="ngForm" (ngSubmit)="onSubmit(newPubForm, $event)" class="col-lg-10" enctype="multipart/form-data" >
        <p>
            <label >Que tienes en mente?</label>
            <textarea name="text" #text="ngModel" [(ngModel)]="publication.text"  class="form-control" required>

            </textarea>
            <span *ngIf="!text. valid && text.touched">
                El texto de la publicacion es obligatorio
            </span>
        </p>

        <p>
            <label>Sube tu foto</label>
            <input type="file" placeholder="subir imagen" (change)="fileChangeEvent($event)"> 
        </p>
        <input type="submit" value="enviar" class="btn btn-success" [disabled]="!newPubForm.form.valid">
    </form>
</div>